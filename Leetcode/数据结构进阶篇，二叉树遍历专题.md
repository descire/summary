### 102. 二叉树的层序遍历

&emsp;&emsp;**题目：**

&emsp;&emsp;给你二叉树的根节点 root ，返回其节点值的 层序遍历 。 （即逐层地，从左到右访问所有节点）。

&emsp;&emsp;**示例：**

&emsp;&emsp;输入：root = [3,9,20,null,null,15,7]，输出：[[3],[9,20],[15,7]]。

&emsp;&emsp;**递归解法：**

&emsp;&emsp;*使用深度优先搜索来解决，递归的深度即是二叉树的层级，然后通过二维数组来记录当前层级的节点元素。*

&emsp;&emsp;时间复杂度：O(n)，空间复杂度：O(n)。

```JavaScript
const levelOrder = root => {
  const ans = [];
  dfs(root, 0, ans);
  return ans;
}

function dfs(root, level, ans) {
  if (!root) {
    return;
  }

  if (!ans[level]) {
    ans[level] = [];
  }

  ans[level].push(root.val);
  dfs(root.left, level + 1, ans);
  dfs(root.right, level + 1, ans);
  return;
}
```

&emsp;&emsp;**迭代解法：**

&emsp;&emsp;*使用广度优先搜索来解决，通过队列来保存每一层根节点的左右子树，再使用二位数组来存储每层的节点元素。*

&emsp;&emsp;时间复杂度：O(n)，空间复杂度：O(n)。

```JavaScript
const levelOrder = root => {
  if (!root) {
    return [];
  }

  const ans = [];
  let queue = [root];

  while (queue.length) {
    const len = queue.length
    const item = [];
    for (let i = 0; i < len; i++) {
      const currentRoot = queue.shift();
      item.push(currentRoot.val);

      currentRoot.left && queue.push(currentRoot.left);
      currentRoot.right && queue.push(currentRoot.right);
    }

    ans.push(item);
  }

  return ans;
}
```

&emsp;&emsp;上述解题思路中，使用 shift 方法来完成出队的操作，该方法在 JavaScript 中非常的低效，原因在于：*执行 shift 方法需要遍历一次数组，将每个元素向前平移*。

&emsp;&emsp;*可以通过数组下标访问 + 临时变量完成空间换时间的优化。*

```JavaScript
const levelOrder = root => {
    if (!root) {
        return [];
    }

    const ans = [];
    let queue = [root];

    while (queue.length) {
        const len = queue.length;
        const item = [];
        const _queue = [];
        for (let i = 0; i < len; i++) {
        const currentRoot = queue[i];
        item.push(currentRoot.val);

        currentRoot.left && _queue.push(currentRoot.left);
        currentRoot.right && _queue.push(currentRoot.right);
        }
        queue = _queue;
        ans.push(item);
    }

    return ans;
}
```

### 写在最后

&emsp;&emsp;LeetCode 数据结构篇根据难度划分三个系列：

- 数据结构入门篇
- 数据结构进阶篇
- 数据结构高级进阶篇

&emsp;&emsp;每个系列都会根据笔者刷题过程中总结的解题思路形成不同的专题文章，这样更容易吃透某一类型的解题方法。

&emsp;&emsp;*感兴趣的小伙伴可以关注下方的公众号，或者微信搜索“漫谈大前端”*，如果本文对你有帮助，欢迎点赞、分享、转发。

&emsp;&emsp;相关链接：

- https://leetcode.cn/problems/binary-tree-level-order-traversal/